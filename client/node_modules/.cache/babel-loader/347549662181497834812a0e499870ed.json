{"ast":null,"code":"import { FILTER_BY_TEMPERAMENT, FILTER_CREATED, GET_DOG, GET_DOGS, GET_DOG_BY_NAME, GET_TEMPERAMENTS, SORT_NAME, SORT_WEIGHT } from \"../actions\"; //initial states\n\nconst initialState = {\n  dogs: [],\n  allDogs: [],\n  temperaments: [],\n  dog: []\n};\n/* =================== */\n\nfunction rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_DOGS:\n      return { ...state,\n        dogs: action.payload,\n        allDogs: action.payload\n      };\n\n    case GET_DOG:\n      return { ...state,\n        dog: action.payload\n      };\n\n    case GET_DOG_BY_NAME:\n      if (Array.isArray(action.payload)) {\n        return { ...state,\n          dogs: action.payload\n        };\n      } else {\n        return { ...state\n        };\n      }\n\n    case GET_TEMPERAMENTS:\n      return { ...state,\n        temperaments: action.payload\n      };\n\n    case FILTER_BY_TEMPERAMENT:\n      const allDogs = state.allDogs;\n      let dogsTemp = allDogs.map(p => {\n        if (p.temperament) return p;\n      });\n      dogsTemp = dogsTemp.filter(p => p !== undefined); //pasa de los perros con temperamento indefinido\n\n      const statusFilter = action.payload === \"temp\" ? allDogs : dogsTemp.filter(p => p.temperament.includes(action.payload));\n      return { ...state,\n        dogs: statusFilter //el state de los perros de vuelve UNICAMENTE los filtrados\n\n      };\n\n    case \"POST_DOG\":\n      return { ...state\n      };\n\n    case FILTER_CREATED:\n      const allDoggys = state.allDogs;\n      const filterCreated = action.payload === \"created\" ? allDoggys.filter(p => p.created) : allDoggys.filter(p => !p.created);\n      return { ...state,\n        dogs: action.payload === \"All\" ? state.allDogs : filterCreated\n      };\n\n    case SORT_NAME:\n      const doggys = state.dogs;\n\n      if (action.payload !== \"all\") {\n        let sortArr = action.payload === \"asc\" ? doggys.sort(function (a, b) {\n          if (a.name.toLowerCase() > b.name.toLowerCase()) {\n            return 1;\n          }\n\n          if (b.name.toLowerCase() > a.name.toLowerCase()) {\n            return -1;\n          }\n\n          return 0;\n        }) : doggys.sort(function (a, b) {\n          if (a.name.toLowerCase() > b.name.toLowerCase()) return -1;\n          if (b.name.toLowerCase() > a.name.toLowerCase()) return 1;\n          return 0;\n        });\n        return { ...state,\n          dogs: sortArr\n        };\n      }\n\n    case SORT_WEIGHT:\n      let dataDogs = state.dogs;\n      let sortArrWeight = action.payload === \"min\" ? dataDogs.sort(function (a, b) {\n        if (Number(a.weight.split(\" - \")[0]) > Number(b.weight.split(\" - \")[0])) {\n          return 1;\n        }\n\n        if (Number(b.weight.split(\" - \")[0]) > Number(a.weight.split(\" - \")[0])) {\n          return -1;\n        }\n\n        return 0;\n      }) : dataDogs.sort(function (a, b) {\n        if (Number(a.weight.split(\" - \")[1]) > Number(b.weight.split(\" - \")[1])) return -1; // '15 - 54' [15,54]\n\n        if (Number(b.weight.split(\" - \")[1]) > Number(a.weight.split(\" - \")[1])) return 1;\n        return 0;\n      });\n      return { ...state,\n        dogs: sortArrWeight\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default rootReducer;","map":{"version":3,"names":["FILTER_BY_TEMPERAMENT","FILTER_CREATED","GET_DOG","GET_DOGS","GET_DOG_BY_NAME","GET_TEMPERAMENTS","SORT_NAME","SORT_WEIGHT","initialState","dogs","allDogs","temperaments","dog","rootReducer","state","action","type","payload","Array","isArray","dogsTemp","map","p","temperament","filter","undefined","statusFilter","includes","allDoggys","filterCreated","created","doggys","sortArr","sort","a","b","name","toLowerCase","dataDogs","sortArrWeight","Number","weight","split"],"sources":["/home/juan/PI-DOGS/client/src/redux/reducer/index.js"],"sourcesContent":["import {\n  FILTER_BY_TEMPERAMENT,\n  FILTER_CREATED,\n  GET_DOG,\n  GET_DOGS,\n  GET_DOG_BY_NAME,\n  GET_TEMPERAMENTS,\n  SORT_NAME,\n  SORT_WEIGHT,\n} from \"../actions\";\n\n//initial states\nconst initialState = {\n  dogs: [],\n  allDogs: [],\n  temperaments: [],\n  dog: [],\n};\n/* =================== */\n\nfunction rootReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_DOGS:\n      return {\n        ...state,\n        dogs: action.payload,\n        allDogs: action.payload,\n      };\n\n    case GET_DOG:\n      return {\n        ...state,\n        dog: action.payload,\n      };\n\n    case GET_DOG_BY_NAME:\n      if (Array.isArray(action.payload)) {\n        return {\n          ...state,\n          dogs: action.payload,\n        };\n      } else {\n        return {\n          ...state,\n        };\n      }\n\n    case GET_TEMPERAMENTS:\n      return {\n        ...state,\n        temperaments: action.payload,\n      };\n\n    case FILTER_BY_TEMPERAMENT:\n      const allDogs = state.allDogs;\n\n      let dogsTemp = allDogs.map((p) => {\n        if (p.temperament) return p;\n      });\n      dogsTemp = dogsTemp.filter((p) => p !== undefined);\n      //pasa de los perros con temperamento indefinido\n      const statusFilter =\n        action.payload === \"temp\"\n          ? allDogs\n          : dogsTemp.filter((p) => p.temperament.includes(action.payload));\n      return {\n        ...state,\n        dogs: statusFilter, //el state de los perros de vuelve UNICAMENTE los filtrados\n      };\n    case \"POST_DOG\":\n      return {\n        ...state,\n      };\n\n    case FILTER_CREATED:\n      const allDoggys = state.allDogs;\n      const filterCreated =\n        action.payload === \"created\"\n          ? allDoggys.filter((p) => p.created)\n          : allDoggys.filter((p) => !p.created);\n      return {\n        ...state,\n        dogs: action.payload === \"All\" ? state.allDogs : filterCreated,\n      };\n\n    case SORT_NAME:\n      const doggys = state.dogs;\n      if (action.payload !== \"all\") {\n        let sortArr =\n          action.payload === \"asc\"\n            ? doggys.sort(function (a, b) {\n                if (a.name.toLowerCase() > b.name.toLowerCase()) {\n                  return 1;\n                }\n                if (b.name.toLowerCase() > a.name.toLowerCase()) {\n                  return -1;\n                }\n                return 0;\n              })\n            : doggys.sort(function (a, b) {\n                if (a.name.toLowerCase() > b.name.toLowerCase()) return -1;\n                if (b.name.toLowerCase() > a.name.toLowerCase()) return 1;\n                return 0;\n              });\n        return {\n          ...state,\n          dogs: sortArr,\n        };\n      }\n\n    case SORT_WEIGHT:\n      let dataDogs = state.dogs;\n      let sortArrWeight =\n        action.payload === \"min\"\n          ? dataDogs.sort(function (a, b) {\n              if (\n                Number(a.weight.split(\" - \")[0]) >\n                Number(b.weight.split(\" - \")[0])\n              ) {\n                return 1;\n              }\n              if (\n                Number(b.weight.split(\" - \")[0]) >\n                Number(a.weight.split(\" - \")[0])\n              ) {\n                return -1;\n              }\n              return 0;\n            })\n          : dataDogs.sort(function (a, b) {\n              if (\n                Number(a.weight.split(\" - \")[1]) >\n                Number(b.weight.split(\" - \")[1])\n              )\n                return -1; // '15 - 54' [15,54]\n              if (\n                Number(b.weight.split(\" - \")[1]) >\n                Number(a.weight.split(\" - \")[1])\n              )\n                return 1;\n              return 0;\n            });\n      return {\n        ...state,\n        dogs: sortArrWeight,\n      };\n    default:\n      return state;\n  }\n}\n\nexport default rootReducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}